;---------------- PROGRAM WITH PROCEDURE ------------
CALL 50	;CALL PROCEDURE AT LOCATION 50
CALL 80	; CALL PROCEDURE AT LOCATION 80
MOV BL,00 ; RESET REGISTERS BL AND DL
MOV DL,00
HALT
;---------------- PUT STRING ON VDU -------------------------
ORG 50	;PUT PROCEDURE AT LOCATION 50
PUSHF	;BACKUP SP AND AL
PUSH AL
MOV BL,C0 ;PUT START OF VDU IN BL
GET_CHAR:
	CMP CL,05 ;CHECK IF AT END OF STRING
	JZ RETURN ;IF AT END OF STRING JUMP TO RETURN FUNCTION
	IN 00	;READ IN CHARACTER
	MOV [BL],AL ;PLACE CHAR IN LOCATION ON VDU
	INC BL	;MOVE UP IN VDU
	INC CL	;ADD TO COUNT
	JMP GET_CHAR ;GET ANOTHER CHARACTER
RETURN:
	POP AL ;RESET REGISTER AL AND SP
	POPF
	RET ;RETURN TO PROGRAM
;--------------- REVERSE STRING -----------------------------
ORG 80	;PUT PROCEDURE AT LOCATION 80
PUSHF	;BACKUP SP AND AL
PUSH AL
MOV DL,D0 ;PUT NEXT LINE OF VDU IN DL
REVERSE_STRING:
	CMP CL,00 ;CHECK IF AT END OF STRING
	JZ END	;IF SO JUMP TO END
	DEC BL	;GET THE END OF THE STRING ON LINE BEFORE
	MOV AL,[BL] ;MOVE CHAR IN ON PREVIOUS LINE INTO AL
	MOV [DL],AL ;MOVE CHAR INTO STARTING POSITION ON NEXT LINE
	DEC CL	;DECREASE COUNT
	INC DL	;INCREASE POSITION ON VDU
	JMP REVERSE_STRING ;GET NEXT CHAR

END:
	POP AL ;RESET SP AND AL
	POPF
	RET
END
		
	
