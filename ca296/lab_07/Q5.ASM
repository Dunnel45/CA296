JMP MAINPROG ;JUMP OVER THE VECTOR TABLE
DB 10
DB 30	;PLACE 30 IN LOCATION 03 FOR KEYBOARD
ORG 10	;PUT CODE AT LOCATION 10
MAINPROG:
	STI  ;TURN ON INTERRUPTS

;------- KEYBOARD -------
ORG 30 ;PLACE CODE AT LOCATION 30
CLI ;TURN OFF INTERRUPTS
PUSHF ;PUSH IP TO THE STACK
IN 07  ;TRAP CHAR READ IN FROM INTERRUPT KEYBOARD

LOOP:
	CMP AL,BL  ;COMPARE TO SEE IF COUNT ABOVE NUMBER OF LETTER 
	JS CONVERT ;IF ABOVE JUMP TO CONVERT
	ADD BL,10 ;INCREMENT COUNT BY 10 EACH TIME
	INC CL	;INCREMENT COUNT OF LOOP 
	JMP LOOP ;JUMP BACK TO THE LOOP

CONVERT:
	DEC CL ;TAKE ONE OFF THE LOOP COUNT
	SUB BL,10 ;TAKE 10 OFF THE NUMBER COUNT
	SUB AL,BL ;SUBTRACT THE NUMBER OF CHARACTER FROM NUMBER COUNT
RIGHT:
	ADD DL,90 ;ADD 90 TO DL WHERE THE START OF THE TABLE IS
	ADD DL,AL ;ADD 90 TO AL TO GIVE CORRECT POSTION OF RIGHT HAND NUMBER
	MOV AL,[DL] ;MOVE THE HEX NUMBER FOR DISPLAY IN LOCATION DL INTO AL
	OUT 02 ;PUT NUMBER ON 7 SEGMENT DISPLAY
LEFT:
	MOV DL,00 ;RESET DL
	ADD DL,90 ;ADD 90 TO THE DL WHERE IS START OF THE TABLE
	ADD DL,CL ;ADD THE LOOP COUNT TO 90 TO FIND ITS NUMBER FOR DISPLAY
	MOV AL,[DL] ;PUT HEX NUMBER IN LOCATION DL INTO AL
	DEC AL	;TAKE OFF ONE FROM AL TO DISPLAY ON LEFT HAND SIDE
	OUT 02 ;PUT NUMBER ON LEFT HAND SIDE OF DISPLAY

END:
	POPF  ;RESET SP AND 7 SEGMENT DISPLAY
	MOV AL,01
	OUT 02
	MOV AL,00
	OUT 02
	HALT
ORG 90
DB FB
DB 61
DB B7
DB 9F
DB 4F
DB DD
DB FD
DB 8B
DB FF
DB DF
END